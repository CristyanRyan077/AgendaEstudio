<Window x:Class="AgendaNovo.Views.ProcessoFotos"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:AgendaNovo.Views" xmlns:viewmodels="clr-namespace:AgendaNovo.ViewModels" xmlns:hc="https://handyorg.github.io/handycontrol" d:DataContext="{d:DesignInstance Type=viewmodels:FotosViewModel}"
        mc:Ignorable="d" WindowState="Maximized"
        xmlns:controles="clr-namespace:AgendaNovo.Controles"
        Title="ProcessoFotos" Height="450" Width="800">
    <Window.InputBindings>
        <KeyBinding Key="Enter" Command="{Binding CarregarCommand}"/>
    </Window.InputBindings>
    <Grid Background="#2F2F2F">
        <Grid.ColumnDefinitions>
            <!-- filtros -->
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
            <!-- conteúdo -->
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Filtros -->
        <StackPanel Grid.Column="0" Grid.RowSpan="2" Background="#3A3A3A">
            <TextBlock Text="Filtros" Foreground="White" FontSize="16" FontWeight="Bold" Margin="0,0,0,8"/>
            <StackPanel>
                <TextBlock Text="Período" Foreground="#DDD"/>
                <DatePicker SelectedDate="{Binding PeriodoInicio, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,6"/>
                <DatePicker SelectedDate="{Binding PeriodoFim, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,0,10"/>
                <Button Content="Mês atual" Command="{Binding QuickMesAtualCommand}" Margin="0,0,0,10"/>

                <Button Content="Aplicar" Command="{Binding CarregarCommand}" IsDefault="True" />
                
                <Button Content="Exportar para Word" Background="DodgerBlue"
                        Command="{Binding ExportarWordCommand}"
                        Width="160" Height="32" Margin="0,8,0,0"/>
            </StackPanel>
        </StackPanel>

        <!-- Conteúdo -->
        <Border CornerRadius="12" Grid.Column="1" Background="#3A3A3A" Padding="10" Margin="0,0,0,8">
            <DockPanel>
                <TextBlock Text="Busca Por Nome" Foreground="White" FontWeight="Bold" FontSize="16" DockPanel.Dock="Top"/>
                <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                    <hc:TextBox Text="{Binding FiltroClienteNome, UpdateSourceTrigger=PropertyChanged}"
                                AcceptsReturn="False" Width="250" ToolTip="Tecla Enter para buscar"
                                hc:InfoElement.Placeholder="Nome do Cliente">
                        <hc:TextBox.InputBindings>
                            <KeyBinding Key="Enter" Command="{Binding CarregarCommand}"/>
                        </hc:TextBox.InputBindings>
                    </hc:TextBox>
                    <Button Content="Limpar" Margin="6,0,0,0"
                        Command="{Binding LimparFiltroClienteCommand}"/>
                </StackPanel>
            </DockPanel>
        </Border>
        <Border Grid.Column="1" Grid.Row="1" CornerRadius="12" Background="#3A3A3A" Padding="10" Margin="0,0,0,12">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0"
                 HorizontalAlignment="Left"
                 Text="Processo de Fotos"
                 Foreground="White" FontWeight="Bold" FontSize="16"/>

                <DataGrid Grid.Row="1"
                        ItemsSource="{Binding FotosResumo}"
                        AutoGenerateColumns="False"
                        CanUserAddRows="False"
                        IsReadOnly="False"
                        CanUserDeleteRows="False"
                        SelectionUnit="Cell"
                        ClipboardCopyMode="ExcludeHeader"
                        HeadersVisibility="Column"
                        HorizontalAlignment="Stretch"
                        Margin="0,8,0,0"
                        MaxHeight="600"
                        MouseLeftButtonDown="DataGrid_MouseDown"
                        RowHeaderWidth="0">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Data" Binding="{Binding Data, StringFormat=dd/MM/yyyy}" Width="90" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Cliente" Binding="{Binding Cliente}" Width="150" IsReadOnly="True" />
                        <DataGridTextColumn Header="Crianca" Binding="{Binding Crianca}" Width="100" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Telefone" Binding="{Binding Telefone}" Width="100"/>
                        <DataGridTextColumn Header="Mesversario" Binding="{Binding MesversarioFormatado}" IsReadOnly="True" Width="100"/>
                        <DataGridTextColumn Header="Serviço" Binding="{Binding Servico}" Width="140" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Etapa Atual" Binding="{Binding EtapaAtual}" Width="120" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Escolha" Binding="{Binding EscolhaData, StringFormat=dd/MM}" Width="70" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Tratamento" Binding="{Binding TratamentoData, StringFormat=dd/MM}" Width="90" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Revelar" Binding="{Binding RevelarData, StringFormat=dd/MM}" Width="70" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Entrega" Binding="{Binding EntregaData, StringFormat=dd/MM}" Width="70" IsReadOnly="True"/>
                        <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="90"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>
    </Grid>
</Window>
